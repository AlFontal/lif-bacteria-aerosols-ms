# Benchmarking Laser-induced Fluorescence and Machine Learning for real-time identification of bacteria in bioaerosols

![license](https://img.shields.io/badge/license-MIT-green)
![python](https://img.shields.io/badge/python->3.11-orange?logo=Python&logoColor=white)
![Quarto](https://img.shields.io/badge/quarto->1.6-skyblue?logo=quarto)
![Zenodo](https://zenodo.org/badge/DOI/10.5281/zenodo.15485701.svg)

## Overview

This repository contains the code and data to reproduce the results of the manuscript *"Benchmarking Laser-induced Fluorescence and Machine Learning for real-time identification of bacteria in bioaerosols"* by Fontal et al. (2025). In this study, we demonstrate a method to (1) aerosolize bacteria using a nebulizer emulating bacteria-laden droplets, (2) modify an existing equipment (Rapid-E) to facilitate the characterization of microbial aerosols and (3) use machine learning models to detect bacteria and classify them in near-real time. 

We attempted to make the whole code as reproducible as possible, so that anyone can run the code and reproduce the results. We also used Quarto to render the Jupyter notebooks and publish them as static HTML files on GitHub Pages, which should lead to a more user-friendly experience when browsing the notebooks. These can be found in the `reports/` folder of this repository, but are also available online at [alfontal.github.io/lif-bacteria-aerosols-ms](https://alfontal.github.io/lif-bacteria-aerosols-ms)


## üîß Setup & Usage

### Installation of Dependencies

We used Python 3.11 to run the whole analysis, with the `uv` package to manage the Python dependencies. To reproduce the very same environment you can use the `pyproject.toml` file in the root of the repository, the following commands should suffice to set up the environment:

```bash
uv venv .venv
source .venv/bin/activate
uv pip install
```

## üìÅ Project Structure

The way the project structure is organized is the following: 

The code developed to handle the Rapid-E outputs and aerosol particles data wrangling 
and analysis is located in the `src/` folder, organized under the `aerosolpy` package.

The `data/` folder is empty here, but it is meant to contain the raw data files used in the analysis. These were too big to put under version control so they are not included in the repo. You can find the data files deposited in Zenodo at https://doi.org/10.5281/zenodo.15485701

The tables and figures generated by the analysis are saved in the `output/` folder, with the figures being saved in vector (SVG) and raster (PNG) formats. 

The `reports/` folder contains the Jupyter notebooks used to generate the figures and tables, as well as the Quarto configuration file `_quarto.yml` that allows rendering the notebooks into static HTML files. There are two main reports:

1. bacteria_ms.ipynb: This notebook contains the main analysis and results of the manuscript, where we analyze the aerosolized bacteria and train and evaluate random forests to classify them.

2. fluorophore_ms.ipynb: This notebook contains the tests that we ran with aerosolized fluorophores, which were used to validate the Rapid-E modifications and its ability to detect the fluorophores characteristic of bacterial cells as part of aerosol particles.

The other files in the top level directory serve as configuration files for the project, such as the `pyproject.toml` and files for managing dependencies, the `.gitignore` file to specify which files to ignore when pushing to the repository, and the workflow file for GitHub Actions in .github/.

```
lif-bacteria-aerosols-ms/
‚îú‚îÄ‚îÄ .github/workflows/render.yml     # GitHub Actions workflow
‚îú‚îÄ‚îÄ data/                           # Data files folder
‚îú‚îÄ‚îÄ output/                         # Output files folder
‚îú‚îÄ‚îÄ src/                            # Source code files
‚îú‚îÄ‚îÄ assets/                         # Static assets
‚îú‚îÄ‚îÄ reports/                        # GH Pages reports and notebooks
‚îú‚îÄ‚îÄ pyproject.toml                  # Python dependencies (uv)
‚îú‚îÄ‚îÄ README.md                       # Main repository README
‚îî‚îÄ‚îÄ .gitignore                      # Git ignore file
```